<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Feedback | GeethsConnect</title>
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>

<header class="navbar">
  <div class="container nav-flex">
    <h2 class="logo">GeethsConnect Admin</h2>
    <nav class="nav-links">
      <a href="dashboard.html">Dashboard</a>
      <a href="events.html">Events</a>
      <a href="gallery.html">Gallery</a>
      <a href="admin-feedback.html">Feedback</a>
      <a class="btn outline" href="index.html">Logout</a>
    </nav>
  </div>
</header>

<section class="container" style="padding:30px 0;">
  <div class="card">
    <h1>Student Feedback</h1>
    <table border="1" id="feedbackTable" style="width:100%; margin-top:20px;">
      <tr>
        <th>Event</th>
        <th>Message</th>
        <th>Rating</th>
        <th>Date</th>
      </tr>
    </table>
  </div>
</section>

<script>
 const table = document.getElementById("feedbackTable");

async function loadFeedback() {
  try {
    const response = await fetch("http://YOUR_BACKEND_URL/api/feedback");
    const feedbackList = await response.json();

    feedbackList.forEach(fb => {
      const row = table.insertRow();
      row.insertCell(0).innerText = fb.event;
      row.insertCell(1).innerText = fb.message;
      row.insertCell(2).innerText = fb.rating;
      row.insertCell(3).innerText = new Date(fb.date).toLocaleString();
    });
  } catch (error) {
    console.error("Error fetching feedback:", error);
  }
}

loadFeedback();

</script>

</body>
</html>
